<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>üíé Metals API Lab ‚Äî Step by Step</title>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600;700&display=swap" rel="stylesheet"/>

<style>

/* ========= UBUNTU THEME ========= */

body{
  font-family:'Ubuntu',sans-serif;
  margin:0;
  background:linear-gradient(180deg,#2c001e,#3d0f2e);
  color:#fff;
}

.wrapper{
  max-width:1000px;
  margin:auto;
  padding:30px;
  display:grid;
  gap:18px;
}

.card{
  background:#fff;
  color:#222;
  border-radius:14px;
  padding:22px;
  box-shadow:0 14px 35px rgba(0,0,0,.35);
}

h2{
  margin:0 0 10px;
}

pre{
  background:#f4f4f4;
  padding:10px;
  border-radius:8px;
  font-size:13px;
}

.small{
  font-size:13px;
  color:#666;
}

.row{
  display:flex;
  gap:10px;
  margin-bottom:10px;
}

input{
  flex:1;
  padding:8px;
  border-radius:6px;
  border:1px solid #ccc;
}

button{
  background:#e95420;
  border:none;
  color:#fff;
  padding:10px 18px;
  border-radius:8px;
  font-weight:700;
  cursor:pointer;
}

/* ========= TABLE ========= */

table{
  width:100%;
  border-collapse:collapse;
  margin-top:12px;
}

th,td{
  padding:10px;
  text-align:center;
  border-bottom:1px solid #ddd;
}

th{
  background:#f3f4f6;
}

.totalRow{
  font-weight:900;
  font-size:18px;
  color:#e95420;
}

.title{
  text-align:center;
  font-size:24px;
  font-weight:900;
}

/* ===== neat labeled inputs ===== */

.formGrid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:18px;
  margin-bottom:14px;
}

.field{
  display:flex;
  flex-direction:column;
  gap:6px;
}

.field label{
  font-weight:700;
  font-size:14px;
}

.field label span{
  font-weight:400;
  color:#666;
  font-size:12px;
}

.field input{
  padding:9px;
  border-radius:6px;
  border:1px solid #ccc;
}


</style>
</head>



<body>

<div class="wrapper">

<div class="title">üíé Metals Inventory Calculator Lab</div>



<!-- ================================================= -->
<!-- STEP 1 -->
<!-- ================================================= -->

<div class="card">
<h2>üîπ Step 1 ‚Äî API Route</h2>

<pre>
Gold   ‚Üí https://api.gold-api.com/price/XAU
Silver ‚Üí https://api.gold-api.com/price/XAG
</pre>

<div class="small">
We call these endpoints to fetch live market prices.
</div>
</div>



<!-- ================================================= -->
<!-- STEP 2 -->
<!-- ================================================= -->

<div class="card">
<h2>üîπ Step 2 ‚Äî JSON Data Format</h2>

<pre>{
  "name":"Gold",
  "price": 2350.21,
  "symbol":"XAU"
}
</pre>

<div class="small">
price = value for <b>1 troy ounce</b>
</div>
</div>



<!-- ================================================= -->
<!-- STEP 3 -->
<!-- ================================================= -->

<div class="card">
<h2>üîπ Step 3 ‚Äî Unit Conversion Logic</h2>

<pre>
1 troy ounce = 31.1034768 grams

price_per_gram = price_per_ounce √∑ 31.1034768
value = grams √ó price_per_gram
</pre>

<div class="small">
Without dividing, price becomes 31√ó higher ‚ùå
</div>
</div>



<!-- ================================================= -->
<!-- STEP 4 -->
<!-- ================================================= -->

<div class="card">

<h2>üîπ Step 4 ‚Äî Fetch Prices & Calculate Inventory</h2>

<div class="formGrid">

  <div class="field">
    <label>Gold <span>(grams)</span></label>
    <input id="goldGrams" type="number" value="100">
  </div>

  <div class="field">
    <label>Silver <span>(grams)</span></label>
    <input id="silverGrams" type="number" value="500">
  </div>

</div>


<button id="calcBtn">Fetch & Calculate</button>


<table id="resultTable" style="display:none">
<thead>
<tr>
  <th>Metal</th>
  <th>Quantity (g)</th>
  <th>Price / g (‚Çπ)</th>
  <th>Value (‚Çπ)</th>
</tr>
</thead>

<tbody>
<tr>
  <td>Gold</td>
  <td id="gQty"></td>
  <td id="gRate"></td>
  <td id="gVal"></td>
</tr>

<tr>
  <td>Silver</td>
  <td id="sQty"></td>
  <td id="sRate"></td>
  <td id="sVal"></td>
</tr>

<tr class="totalRow">
  <td colspan="3">Total Value</td>
  <td id="totalVal"></td>
</tr>
</tbody>
</table>

</div>



</div>



<script>

/* ========= CONFIG ========= */

const OZ_TO_GRAM = 31.1034768;
const USD_TO_INR = 83;


/* ========= STEP 4 LOGIC ========= */

$("#calcBtn").click(function(){

  const gQty = parseFloat($("#goldGrams").val()) || 0;
  const sQty = parseFloat($("#silverGrams").val()) || 0;

  $.when(
    $.getJSON("https://api.gold-api.com/price/XAU"),
    $.getJSON("https://api.gold-api.com/price/XAG")
  )
  .done(function(g,s){

    const goldPerGram   = (g[0].price / OZ_TO_GRAM) * USD_TO_INR;
    const silverPerGram = (s[0].price / OZ_TO_GRAM) * USD_TO_INR;

    const gVal = gQty * goldPerGram;
    const sVal = sQty * silverPerGram;
    const total = gVal + sVal;

    $("#gQty").text(gQty);
    $("#sQty").text(sQty);

    $("#gRate").text(Math.round(goldPerGram));
    $("#sRate").text(Math.round(silverPerGram));

    $("#gVal").text(Math.round(gVal).toLocaleString());
    $("#sVal").text(Math.round(sVal).toLocaleString());

    $("#totalVal").text(Math.round(total).toLocaleString());

    $("#resultTable").show();

  });

});

</script>

</body>
</html>
