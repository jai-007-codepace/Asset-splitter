<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Metals Inventory Calculator-Rev01</title>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&display=swap" rel="stylesheet"/>

<style>
body{
  font-family:'Ubuntu',sans-serif;
  background:linear-gradient(135deg,#2c001e,#3d0f2e);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  height:100vh;
  margin:0;
}

.card{
  background:#fff;
  color:#222;
  padding:30px;
  border-radius:14px;
  width:420px;
  box-shadow:0 20px 40px rgba(0,0,0,.4);
}

h2{
  margin-top:0;
  text-align:center;
}

.row{
  margin-bottom:14px;
}

input{
  width:100%;
  padding:8px;
  border-radius:6px;
  border:1px solid #ccc;
}

button{
  width:100%;
  padding:10px;
  background:#e95420;
  border:none;
  color:#fff;
  font-weight:600;
  border-radius:8px;
  cursor:pointer;
}

button:hover{
  background:#ff6a30;
}

.result{
  margin-top:16px;
  font-weight:700;
  color:#e95420;
}

.small{
  font-size:13px;
  color:#666;
}
</style>
</head>

<body>

<div class="card">

  <h2>ðŸ’Ž Metals Inventory Value</h2>

  <div class="row">
    Gold (grams)
    <input id="gold" type="number" value="500">
  </div>

  <div class="row">
    Silver (grams)
    <input id="silver" type="number" value="2000">
  </div>

  <button id="calc">Fetch Rates & Calculate</button>

  <div class="result" id="output">â€”</div>

  <div class="small" id="rates"></div>

</div>


<script>

/* ===== CONFIG ===== */
const OZ_TO_GRAM = 31.1034768;
const priceUrl = s => `https://api.gold-api.com/price?symbol=${s}`;

/* ===== CALCULATE ===== */
$("#calc").click(function(){

  const goldGrams = parseFloat($("#gold").val()) || 0;
  const silverGrams = parseFloat($("#silver").val()) || 0;

  $("#output").text("Fetching live price...");

  $.when(
    $.getJSON(priceUrl("XAU")),
    $.getJSON(priceUrl("XAG"))
  ).done(function(gold,silver){

    const goldOz = gold[0].price;
    const silverOz = silver[0].price;

    const goldPerGram = goldOz / OZ_TO_GRAM;
    const silverPerGram = silverOz / OZ_TO_GRAM;

    const goldValue = goldPerGram * goldGrams * (22/24); // 22k purity
    const silverValue = silverPerGram * silverGrams;

    const total = goldValue + silverValue;

    $("#output").text("Total Value: $" + total.toFixed(2));

    $("#rates").html(`
      Gold/g : $${goldPerGram.toFixed(2)} <br>
      Silver/g : $${silverPerGram.toFixed(2)}
    `);

  }).fail(()=>{
    $("#output").text("API failed. Try again.");
  });

});

</script>

</body>
</html>
